-- Drop tables if exists
DROP TABLE IF EXISTS Intervenants;
DROP TABLE IF EXISTS Interventions;
DROP TABLE IF EXISTS Vehicule;
DROP TABLE IF EXISTS Modele;
DROP TABLE IF EXISTS Marque;
DROP TABLE IF EXISTS Client;
DROP TABLE IF EXISTS Employe;

-- Create table Client
CREATE TABLE Client(
	num_client SERIAL PRIMARY KEY,
	civ VARCHAR(25) NOT NULL,
	prenom_client VARCHAR(25) NOT NULL,
	nom_client VARCHAR(25) NOT NULL,
	date_naiss DATE,
	adresse VARCHAR(300) NOT NULL,
	tel_prof VARCHAR(20),
	tel_priv VARCHAR(20),
	fax VARCHAR(20)
);

-- Create table Employe
CREATE TABLE Employe(
	num_employe SERIAL PRIMARY KEY,
	nom_employe VARCHAR(25) NOT NULL,
	prenom_employe VARCHAR(25) NOT NULL,
	categorie VARCHAR(25),
	salarie INTEGER NOT NULL
);

-- Create table Marque
CREATE TABLE Marque (
	num_marque SERIAL PRIMARY KEY,
	marque VARCHAR(200) NOT NULL,
	pays VARCHAR(200) NOT NULL
);

-- Create table Modele
CREATE TABLE Modele (
	num_Modele SERIAL PRIMARY KEY,
	num_marque INTEGER REFERENCES Marque (num_marque),
	Modele VARCHAR(200)
);

-- Create table Vehicule
CREATE TABLE Vehicule (
	num_vehicule SERIAL PRIMARY KEY,
	num_client INTEGER NOT NULL REFERENCES Client(num_client),
	num_Modele INTEGER NOT NULL REFERENCES Modele(num_Modele),
	num_immat VARCHAR(20) NOT NULL,
	annee SMALLINT NOT NULL
);

-- Create table Interventions
CREATE TABLE Interventions (
	num_Interventions SERIAL PRIMARY KEY,
	num_vehicule INTEGER NOT NULL REFERENCES Vehicule(num_vehicule),
	type_Interventions VARCHAR(255) NOT NULL,
	date_debinterv DATE NOT NULL,
	date_fininterv DATE NOT NULL,
	cout_initerv VARCHAR(255)
);

-- Create table Interventions
CREATE TABLE Intervenants (
	num_Interventions SERIAL REFERENCES Interventions(num_Interventions),
	num_employe INTEGER NOT NULL REFERENCES Employe(num_employe),
	date_debut DATE NOT NULL,
	date_fin DATE NOT NULL,
	PRIMARY KEY (num_Interventions, num_employe)
);

-- ========================================
-- Insertion Data

-- Fill Client table
INSERT INTO client
VALUES (DEFAULT, 'Mme', 'Cherifa', 'MAHBOUBA', '08/08/1957', 'Alger', '1111111111', '0000000000', NULL);

INSERT INTO client
VALUES (DEFAULT, 'Mme', 'Lamia ', 'TAHMI', '12/31/1955', 'Tiaret', '3333333333', '2222222222', NULL);

INSERT INTO client
VALUES (DEFAULT, 'Mle', 'Ghania', 'DAIF AMROUNI', '01/12/1955', 'Biskra', '5555555555', '4444444444', '0123456789');

INSERT INTO client
VALUES (DEFAULT, 'Mle', 'Chahinez', 'MELEK', '10/13/1955', 'Oran', '6666666666', '7777777777', NULL);

INSERT INTO client
VALUES (DEFAULT, 'Mme', 'Noura ', 'TECHTACH', '03/22/1949', 'Laghouat', '8888888888', '9999999999', '1234567890');

INSERT INTO client
VALUES (DEFAULT, 'Mme', 'Widad', 'TOUATI', '08/14/1965', 'Adrar', '1212121212', '1010101010', NULL);

INSERT INTO client
VALUES (DEFAULT, 'Mle', 'Faiza', 'ABLOUL', '10/28/1967', 'Adrar', '1313131313', '1414141414', NULL);

INSERT INTO client
VALUES (DEFAULT, 'Mme', 'Assia', 'HORRA', '12/08/1963', 'Skikda', '1515151515', '1616161616', '2345678901');

INSERT INTO client
VALUES (DEFAULT, 'Mle', 'Souad', 'MESBAH', '08/30/1972', 'Chlef', '1818181818', '1717171717', NULL);

INSERT INTO client
VALUES (DEFAULT, 'Mme', 'Houda', 'GROUDA', '02/20/1950', 'Annaba', '1919191919', '2020202020', NULL);

INSERT INTO client
VALUES (DEFAULT, 'Mle', 'Saida', 'FENNICHE', NULL, 'Bayedh', '2121212121', '2323232323', NULL);

INSERT INTO client
VALUES (DEFAULT, 'Mme', 'Samia', 'OUALI', '11/17/1966', 'Oum Bouaki', '2525252525', '2424242424', NULL);

INSERT INTO client
VALUES (DEFAULT, 'Mme', 'Fatiha', 'HADDAD', '09/20/1980', 'Sidi Belabass', '2626262626', '2727272727', NULL);

INSERT INTO client
VALUES (DEFAULT, 'M.', 'Djamal', 'MATI', NULL, 'Tmouchent', '2828282828', '2929292929', NULL);

INSERT INTO client
VALUES (DEFAULT, 'M.', 'Mohamed', 'GHRIAR', '06/24/1950', 'Blida', '3131313131', '3030303030', '3456789012');

INSERT INTO client
VALUES (DEFAULT, 'M.', 'Ali', 'LAAOUAR', NULL, 'Ouaregla', '3232323232', '3434343434', '4567890123');

INSERT INTO client
VALUES (DEFAULT, 'M.', 'Messoud', 'AOUIZ', '11/24/1958', 'Costontine', '3535353535', '3636363636', '5678901234');

INSERT INTO client
VALUES (DEFAULT, 'M.', 'Farid', 'AKILI', '05/06/1961', 'Ghelizan', '3838383838', '3737373737', NULL);

INSERT INTO client
VALUES (DEFAULT, 'Mme.', 'Dalila', 'MOUHTADI', NULL, 'Djelfa', '4040404040', '3939393939', NULL);

INSERT INTO client
VALUES (DEFAULT, 'M.', 'Younes', 'CHALAH', NULL, 'Tbessa', '4141414141', '4242424242', '6789012345');

INSERT INTO client
VALUES (DEFAULT, 'M.', 'Boubeker', 'BARAKAT', '08/11/1935', 'Bejaia', '4343434343', '4545454545', NULL);

INSERT INTO client
VALUES (DEFAULT, 'M.', 'Seddik', 'HMIA', NULL, 'Bouira', '4646464646', '4747474747', NULL);

INSERT INTO client
VALUES (DEFAULT, 'M.', 'Lamine', 'MZEABAT', '09/12/1965', 'Tizi Ouzou', '4848484848', '4949494949', NULL);

-- -------------------
-- Fill Employe table
INSERT INTO Employe
VALUES (53, 'LACHEMI', 'Bouzid', 'Assistant', 25000);
INSERT INTO Employe
VALUES (54, 'BOUCHEMLA', 'Elias', 'Assistant', 10000);
INSERT INTO Employe
VALUES (55, 'HADJ', 'Zouhir', 'Assistant', 12000);
INSERT INTO Employe
VALUES (56, 'OUSEDDIK', 'Hakim', 'Assistant', 20000);
INSERT INTO Employe
VALUES (57, 'ABAD', 'Abdelhamid', 'Assistant', 13000);
INSERT INTO Employe
VALUES (58, 'BABACI', 'Tayeb', 'Assistant', 21300);
INSERT INTO Employe
VALUES (59, 'BELHAMDI', 'Mourad', 'Assistant', 19500);
INSERT INTO Employe
VALUES (60, 'IGOUDJIL', 'Redouane', 'Assistant', 15000);
INSERT INTO Employe
VALUES (61, 'KOULA', 'Brahim', 'Assistant', 23100);
INSERT INTO Employe
VALUES (62, 'RAHALI', 'Ahcene', 'Assistant', 24000);
INSERT INTO Employe
VALUES (63, 'CHAOUI', 'Ismail', 'Assistant', 13000);
INSERT INTO Employe
VALUES (64, 'BADI', 'Hatem', 'Assistant', 14000);
INSERT INTO Employe
VALUES (65, 'MOUHAMMEDI', 'Mustapha', 'Assistant', 24000);
INSERT INTO Employe
VALUES (66, 'FEKAR', 'Abdelaziz', 'Assistant', 13500);
INSERT INTO Employe
VALUES (67, 'SAIDOUNI', 'Wahid', 'Assistant', 25000);
INSERT INTO Employe
VALUES (68, 'BOULARAS', 'Farid', 'Assistant', 14000);
INSERT INTO Employe
VALUES (69, 'CHAKER', 'Nassim', 'Assistant', 26000);
INSERT INTO Employe
VALUES (70, 'TERKI', 'Yacine', 'Assistant', 23000);
INSERT INTO Employe
VALUES (71, 'TEBIBEL', 'Ahmed', 'Assistant', 17000);
INSERT INTO Employe
VALUES (72, 'LARDJOUNE', 'Karim', 'Assistant', 25000);

-- ------------------
-- Fill Marque table
INSERT INTO Marque
VALUES (DEFAULT, 'LAMBORGHINI', 'ITALIE');
INSERT INTO Marque
VALUES (DEFAULT, 'AUDI', 'ALLEMAGNE');
INSERT INTO Marque
VALUES (DEFAULT, 'ROLLS-ROYCE', 'GRANDE-BRERT');
INSERT INTO Marque
VALUES (DEFAULT, 'BMW', 'ALLEMAGNE');
INSERT INTO Marque
VALUES (DEFAULT, 'CADILAC', 'USA');
INSERT INTO Marque
VALUES (DEFAULT, 'CHRYSLER', 'USA');
INSERT INTO Marque
VALUES (DEFAULT, 'FERRARI', 'ITALIE');
INSERT INTO Marque
VALUES (DEFAULT, 'HONDA', 'JAPON');
INSERT INTO Marque
VALUES (DEFAULT, 'JAGUAR', 'GRANDE-BRERT');
INSERT INTO Marque
VALUES (DEFAULT, 'ALFA-ROMEO', 'ITALIE');
INSERT INTO Marque
VALUES (DEFAULT, 'LEXUS', 'JAPON');
INSERT INTO Marque
VALUES (DEFAULT, 'LOTUS', 'GRANDE-BRERT');
INSERT INTO Marque
VALUES (DEFAULT, 'MASERATI', 'ITALIE');
INSERT INTO Marque
VALUES (DEFAULT, 'MERCEDES', 'ALLEMAGNE');
INSERT INTO Marque
VALUES (DEFAULT, 'PEUGEOT', 'FRANCE');
INSERT INTO Marque
VALUES (DEFAULT, 'PORSCHE', 'ALLEMAGNE');
INSERT INTO Marque
VALUES (DEFAULT, 'RENAULT', 'FRANCE');
INSERT INTO Marque
VALUES (DEFAULT, 'SAAB', 'SUEDE');
INSERT INTO Marque
VALUES (DEFAULT, 'TOYOTA', 'JAPON');
INSERT INTO Marque
VALUES (DEFAULT, 'VENTURI', 'FRANCE');
INSERT INTO Marque
VALUES (DEFAULT, 'VOLVO', 'SUEDE');

-- ------------------
-- Fill Modele table
INSERT INTO Modele
VALUES (DEFAULT, 1, 'Diablo');
INSERT INTO Modele
VALUES (DEFAULT, 2, 'Serie 5');
INSERT INTO Modele
VALUES (DEFAULT, 10, 'NSX');
INSERT INTO Modele
VALUES (DEFAULT, 14, 'Classe C');
INSERT INTO Modele
VALUES (DEFAULT, 17, 'Safrane');
INSERT INTO Modele
VALUES (DEFAULT, 20, '400 GT');
INSERT INTO Modele
VALUES (DEFAULT, 12, 'Esprit');
INSERT INTO Modele
VALUES (DEFAULT, 15, '605');
INSERT INTO Modele
VALUES (DEFAULT, 19, 'Previa');
INSERT INTO Modele
VALUES (DEFAULT, 7, '550 Maranelllo');
INSERT INTO Modele
VALUES (DEFAULT, 3, 'Bentley-Continental');
INSERT INTO Modele
VALUES (DEFAULT, 10, 'Spider');
INSERT INTO Modele
VALUES (DEFAULT, 13, 'Evoluzione');
INSERT INTO Modele
VALUES (DEFAULT, 16, 'Carrera');
INSERT INTO Modele
VALUES (DEFAULT, 16, 'Boxter');
INSERT INTO Modele
VALUES (DEFAULT, 21, 'S 80');
INSERT INTO Modele
VALUES (DEFAULT, 6, '300 M');
INSERT INTO Modele
VALUES (DEFAULT, 5, 'M3');
INSERT INTO Modele
VALUES (DEFAULT, 9, 'XJ 8');
INSERT INTO Modele
VALUES (DEFAULT, 15, '406 coupe');
INSERT INTO Modele
VALUES (DEFAULT, 20, '300 Atlantic');
INSERT INTO Modele
VALUES (DEFAULT, 14, 'Classe E');
INSERT INTO Modele
VALUES (DEFAULT, 11, 'GS 300');
INSERT INTO Modele
VALUES (DEFAULT, 5, 'Seville');
INSERT INTO Modele
VALUES (DEFAULT, 18, '95 Cabriolet');
INSERT INTO Modele
VALUES (DEFAULT, 2, 'TT coupe');
INSERT INTO Modele
VALUES (DEFAULT, 7, 'F 355');
INSERT INTO Modele
VALUES (DEFAULT, 5, 'POLO');

-- ---------------
-- Fill Vehicule table 
INSERT INTO Vehicule
VALUES (DEFAULT, 2, 6, 00000000, 1992);
INSERT INTO Vehicule
VALUES (DEFAULT, 9, 20, 11111111, 1993);
INSERT INTO Vehicule
VALUES (DEFAULT, 17, 8, 22222222, 1987);
INSERT INTO Vehicule
VALUES (DEFAULT, 6, 12, 33333333, 1998);
INSERT INTO Vehicule
VALUES (DEFAULT, 16, 23, 44444444, 1998);
INSERT INTO Vehicule
VALUES (DEFAULT, 20, 6, 55555555, 1997);
INSERT INTO Vehicule
VALUES (DEFAULT, 7, 8, 66666666, 1998);
INSERT INTO Vehicule
VALUES (DEFAULT, 16, 14, 77777777, 1986);
INSERT INTO Vehicule
VALUES (DEFAULT, 13, 15, 88888888, 1992);
INSERT INTO Vehicule
VALUES (DEFAULT, 20, 22, 99999999, 1999);
INSERT INTO Vehicule
VALUES (DEFAULT, 9, 16, 10101010, 1998);
INSERT INTO Vehicule
VALUES (DEFAULT, 14, 20, 12121212, 1997);
INSERT INTO Vehicule
VALUES (DEFAULT, 19, 17, 13131313, 1997);
INSERT INTO Vehicule
VALUES (DEFAULT, 12, 21, 14141414, 1992);
INSERT INTO Vehicule
VALUES (DEFAULT, 4, 19, 15151515, 1999);
INSERT INTO Vehicule
VALUES (DEFAULT, 16, 21, 16161616, 1997);
INSERT INTO Vehicule
VALUES (DEFAULT, 12, 11, 17171717, 1976);
INSERT INTO Vehicule
VALUES (DEFAULT, 1, 2, 18181818, 1982);
INSERT INTO Vehicule
VALUES (DEFAULT, 18, 7, 19191919, 1985);
INSERT INTO Vehicule
VALUES (DEFAULT, 22, 2, 20202020, 1997);
INSERT INTO Vehicule
VALUES (DEFAULT, 3, 19, 21212121, 1985);
INSERT INTO Vehicule
VALUES (DEFAULT, 8, 19, 23232323, 1998);
INSERT INTO Vehicule
VALUES (DEFAULT, 5, 25, 24242424, 1985);
INSERT INTO Vehicule
VALUES (DEFAULT, 8, 9, 25252525, 1998);
INSERT INTO Vehicule
VALUES (DEFAULT, 13, 5, 26262626, 1998);
INSERT INTO Vehicule
VALUES (DEFAULT, 13, 10, 27272727, 1993);
INSERT INTO Vehicule
VALUES (DEFAULT, 10, 7, 28282828, 1998);
INSERT INTO Vehicule
VALUES (DEFAULT, 10, 3, 29292929, 1999);

-- ----------------------
-- Fill Interventions table 
INSERT INTO Interventions
VALUES (DEFAULT, 3, 'Reparation', '2006-02-25 09:00:00', '2006-02-26 12:00:00', 10000);
INSERT INTO Interventions
VALUES (DEFAULT, 21, 'Reparation', '2006-02-23 09:00:00', '2006-02-24 18:00:00', 30000);
INSERT INTO Interventions
VALUES (DEFAULT, 25, 'Reparation', '2006-04-06 14:00:00', '2006-04-09 12:00:00', 42000);
INSERT INTO Interventions
VALUES (DEFAULT, 10, 'Entretien', '2006-05-14 09:00:00', '2006-05-14 18:00:00', 10000);
INSERT INTO Interventions
VALUES (DEFAULT, 6, 'Reparation', '2006-02-22 09:00:00', '2006-02-25 18:00:00', 40000);
INSERT INTO Interventions
VALUES (DEFAULT, 14, 'Entretien', '2006-03-03 14:00:00', '2006-03-04 18:00:00', 7500);
INSERT INTO Interventions
VALUES (DEFAULT, 1, 'Entretien', '2006-04-09 09:00:00', '2006-04-09 18:00:00', 8000);
INSERT INTO Interventions
VALUES (DEFAULT, 17, 'Entretien', '2006-05-11 14:00:00', '2006-05-12 18:00:00', 9000);
INSERT INTO Interventions
VALUES (DEFAULT, 22, 'Entretien', '2006-02-22 09:00:00', '2006-02-22 18:00:00', 7960);
INSERT INTO Interventions
VALUES (DEFAULT, 2, 'Reparation et Entretien', '2006-04-08 09:00:00', '2006-04-09 18:00:00', 45000);
INSERT INTO Interventions
VALUES (DEFAULT, 28, 'Reparation', '2006-03-08 14:00:00', '2006-03-17 12:00:00', 36000);
INSERT INTO Interventions
VALUES (DEFAULT, 20, 'Reparation et Entretien', '2006-05-03 09:00:00', '2006-05-05 18:00:00', 27000);
INSERT INTO Interventions
VALUES (DEFAULT, 8, 'Reparation Systeme', '2006-05-12 14:00:00', '2006-05-12 18:00:00', 17846);
INSERT INTO Interventions
VALUES (DEFAULT, 1, 'Reparation', '2006-05-10 14:00:00', '2006-05-12 12:00:00', 39000);
INSERT INTO Interventions
VALUES (DEFAULT, 20, 'Reparation Systeme', '2006-06-25 09:00:00', '2006-06-25 12:00:00', 27000);
INSERT INTO Interventions
VALUES (DEFAULT, 7, 'Reparation', '2006-06-27 09:00:00', '2006-06-30 12:00:00', 25000);


-- Fill Intervenants table 
INSERT INTO Intervenants
VALUES (1, 54, '2006-02-26 09:00:00', '2006-02-26 12:00:00');
INSERT INTO Intervenants
VALUES (1, 59, '2006-02-25 09:00:00', '2006-02-25 18:00:00');
INSERT INTO Intervenants
VALUES (2, 57, '2006-02-24 09:00:00', '2006-02-24 18:00:00');
INSERT INTO Intervenants
VALUES (2, 59, '2006-02-23 14:00:00', '2006-02-24 12:00:00');
INSERT INTO Intervenants
VALUES (3, 60, '2006-04-09 09:00:00', '2006-04-09 12:00:00');
INSERT INTO Intervenants
VALUES (3, 65, '2006-04-06 09:00:00', '2006-04-08 18:00:00');
INSERT INTO Intervenants
VALUES (4, 62, '2006-05-14 14:00:00', '2006-05-14 12:00:00');
INSERT INTO Intervenants
VALUES (4, 66, '2006-02-14 09:00:00', '2006-05-14 18:00:00');
INSERT INTO Intervenants
VALUES (5, 56, '2006-02-22 14:00:00', '2006-02-25 12:00:00');
INSERT INTO Intervenants
VALUES (5, 60, '2006-02-23 09:00:00', '2006-02-25 18:00:00');
INSERT INTO Intervenants
VALUES (6, 53, '2006-03-03 09:00:00', '2006-03-04 12:00:00');
INSERT INTO Intervenants
VALUES (6, 57, '2006-03-04 14:00:00', '2006-03-04 18:00:00');
INSERT INTO Intervenants
VALUES (7, 55, '2006-04-09 14:00:00', '2006-04-09 18:00:00');
INSERT INTO Intervenants
VALUES (7, 65, '2006-04-09 14:00:00', '2006-04-09 12:00:00');
INSERT INTO Intervenants
VALUES (8, 54, '2006-05-12 09:00:00', '2006-05-12 18:00:00');
INSERT INTO Intervenants
VALUES (8, 62, '2006-05-11 14:00:00', '2006-05-12 12:00:00');
INSERT INTO Intervenants
VALUES (9, 59, '2006-02-22 09:00:00', '2006-02-22 12:00:00');
INSERT INTO Intervenants
VALUES (9, 60, '2006-02-22 14:00:00', '2006-02-22 18:00:00');
INSERT INTO Intervenants
VALUES (10, 63, '2006-04-09 14:00:00', '2006-04-09 18:00:00');
INSERT INTO Intervenants
VALUES (10, 67, '2006-04-08 09:00:00', '2006-04-09 12:00:00');
INSERT INTO Intervenants
VALUES (11, 59, '2006-03-09 09:00:00', '2006-03-11 18:00:00');
INSERT INTO Intervenants
VALUES (11, 64, '2006-03-09 09:00:00', '2006-03-17 12:00:00');
INSERT INTO Intervenants
VALUES (11, 53, '2006-03-08 14:00:00', '2006-03-16 18:00:00');
INSERT INTO Intervenants
VALUES (12, 55, '2006-05-05 09:00:00', '2006-05-05 18:00:00');
INSERT INTO Intervenants
VALUES (12, 56, '2006-05-03 09:00:00', '2006-05-05 12:00:00');
INSERT INTO Intervenants
VALUES (13, 64, '2006-05-12 14:00:00', '2006-05-12 18:00:00');
INSERT INTO Intervenants
VALUES (13, 72, '2006-05-07 14:00:00', '2006-05-10 18:00:00');